<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BEYHOUSE | 戰鬥陀螺專門</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;500;700&family=Orbitron:wght@500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    
    <style>
        :root { 
            --primary-blue: #0099ff; 
            --sky-blue: #87CEEB;
            --light-bg: #f8f9fa;
            --primary-gradient: linear-gradient(135deg, #87CEEB 0%, #0099ff 100%); 
        }

        body { 
            background-color: var(--light-bg); 
            color: #333; 
            font-family: 'Noto Sans TC', sans-serif; 
            min-height: 100vh; 
        }

        /* 導覽列優化 */
        .navbar { 
            background: rgba(255, 255, 255, 0.9) !important; 
            backdrop-filter: blur(10px); 
            border-bottom: 1px solid rgba(0, 153, 255, 0.1); 
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }

        .brand-logo { 
            font-family: 'Orbitron', sans-serif; 
            letter-spacing: 2px; 
            color: var(--primary-blue); 
            font-weight: bold;
        }

        .nav-link { color: #555 !important; transition: 0.3s; }
        .nav-link:hover { color: var(--primary-blue) !important; }

        /* Hero 區塊改為明亮色調 */
        .hero-section { 
            background: linear-gradient(rgba(255,255,255,0.7), rgba(255,255,255,0.7)), url('images/bg-bey.jpg'); 
            background-size: cover; 
            background-position: center; 
            height: 450px; 
            display: flex; 
            align-items: center; 
            justify-content: center; 
        }

        .hero-text h1 { color: #222; font-weight: 800; text-shadow: 0 2px 10px rgba(255,255,255,0.8); }
        .hero-text p { color: #555; }

        /* 商品卡片優化 */
        .custom-card { 
            background: #ffffff; 
            border: none; 
            border-radius: 20px; 
            overflow: hidden; 
            transition: all 0.3s ease; 
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.05);
            height: 100%; 
        }

        .custom-card:hover { 
            transform: translateY(-10px); 
            box-shadow: 0 15px 40px rgba(0, 153, 255, 0.15); 
        }

        .custom-card img { 
            height: 220px; 
            object-fit: contain; 
            width: 100%; 
            padding: 30px; 
            background: #fdfdfd;
        }

        .product-title { 
            color: #333; 
            font-weight: 700; 
            text-decoration: none; 
            display: block;
            margin-bottom: 10px;
        }
        
        .price-tag { color: var(--primary-blue); font-weight: bold; font-size: 1.4rem; }

        /* 按鈕優化 */
        .btn-gradient { 
            background: var(--primary-gradient); 
            border: none; 
            color: white; 
            font-weight: bold; 
            padding: 10px 20px; 
            border-radius: 50px; 
            transition: 0.3s; 
            width: 100%;
            text-decoration: none;
            display: inline-block;
            text-align: center;
        }

        .btn-gradient:hover { 
            opacity: 0.9;
            transform: scale(1.02);
            color: white; 
            box-shadow: 0 5px 15px rgba(0, 153, 255, 0.3);
        }

        .btn-outline-info { 
            border-color: var(--sky-blue); 
            color: var(--primary-blue); 
        }

        .btn-outline-info:hover {
            background-color: var(--sky-blue);
            border-color: var(--sky-blue);
            color: white;
        }

        footer { background: #fff !important; color: #666; border-top: 1px solid #eee; }
    </style>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-light sticky-top py-3">
        <div class="container">
            <a class="navbar-brand brand-logo fs-3" href="#"><i class="fa-solid fa-spinner"></i> BEYHOUSE</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto ms-4">
                    <li class="nav-item"><a class="nav-link fw-bold" href="#">新品上市</a></li>
                    <li class="nav-item"><a class="nav-link" href="#">BX系列</a></li>
                    <li class="nav-item"><a class="nav-link" href="#">UX系列</a></li>
                    <li class="nav-item"><a class="nav-link" href="#">CX系列</a></li>
                </ul>
                <div class="d-flex align-items-center gap-3">
                    <span id="user-display" class="badge bg-primary bg-opacity-10 border border-primary px-3 py-2 text-primary" style="display:none;"></span>
                    <a href="cart.html" class="btn btn-outline-info rounded-circle px-3 py-2"><i class="fa-solid fa-cart-shopping"></i></a>
                    <a id="btn-login" class="btn btn-outline-secondary rounded-pill px-4" href="login.html">登入</a>
                    <a id="btn-signup" class="btn btn-gradient rounded-pill px-4" href="signup.html" style="width: auto;">註冊</a>
                    <button id="btn-logout" class="btn btn-outline-danger rounded-pill px-4" style="display:none;">登出</button>
                </div>
            </div>
        </div>
    </nav>

    <div class="hero-section mb-5">
        <div class="hero-text text-center" data-aos="fade-up">
            <h1 class="mb-3 display-4">BEYHOUSE</h1>
            <p class="lead mb-4">專業戰鬥陀螺專賣店 | 找回童年的戰鬥熱血</p>
            <a href="#products" class="btn btn-gradient" style="width: auto; padding: 12px 40px;">進入賣場 <i class="fa-solid fa-chevron-down ms-2"></i></a>
        </div>
    </div>

    <main class="container" id="products">
    <div class="d-flex align-items-center mb-5 border-bottom pb-3">
        <h2 class="fw-bold m-0"><i class="fa-solid fa-bolt text-primary me-2"></i> Beyblade X 暢銷商品</h2>
        <span class="ms-3 text-secondary small">/// Gear Sports - X Generation</span>
    </div>

    <div class="row g-4">
        <div class="col-md-4">
            <div class="card custom-card">
                <div class="position-relative">
                    <span class="badge bg-primary position-absolute top-0 start-0 m-3 px-3 py-2 shadow-sm">UX-17</span>
                    <a href="product.html?id=ux-17" class="card-img-link"><img src="images/ux17.jpg" class="card-img-top" alt="隕星龍騎士"></a>
                </div>
                <div class="card-body text-center p-4">
                    <h5 class="product-title">BEYBLADE X UX-17 隕星龍騎士</h5>
                    <p class="text-secondary small">攻擊型 / 搭載橡膠攻擊刃</p>
                    <div class="mb-3"><h4 class="price-tag">$550</h4></div>
                    <a href="#" class="btn btn-gradient">加入購物車</a>
                </div>
            </div>
        </div>

        <div class="col-md-4">
            <div class="card custom-card">
                <div class="position-relative">
                    <span class="badge bg-primary position-absolute top-0 start-0 m-3 px-3 py-2 shadow-sm">BX-23</span>
                    <a href="product.html?id=bx-23" class="card-img-link"><img src="images/bx23.jpg" class="card-img-top" alt="鳳凰飛翼 豪華組"></a>
                </div>
                <div class="card-body text-center p-4">
                    <h5 class="product-title">BEYBLADE X BX-23 鳳凰飛翼 豪華組</h5>
                    <p class="text-secondary small">攻擊型 / 附帶拉繩型發射器</p>
                    <div class="mb-3"><h4 class="price-tag">$495</h4></div>
                    <a href="#" class="btn btn-gradient">加入購物車</a>
                </div>
            </div>
        </div>

        <div class="col-md-4">
            <div class="card custom-card">
                <div class="position-relative">
                    <span class="badge bg-primary position-absolute top-0 start-0 m-3 px-3 py-2 shadow-sm">CX-07</span>
                    <a href="product.html?id=cx-07" class="card-img-link"><img src="images/cx07.jpg" class="card-img-top" alt="天馬爆擊"></a>
                </div>
                <div class="card-body text-center p-4">
                    <h5 class="product-title">BEYBLADE X CX-07 天馬爆擊</h5>
                    <p class="text-secondary small">高擊飛力的鋼鐵戰刃與會根據旋轉速度變形的軸心</p>
                    <div class="mb-3"><h4 class="price-tag">$575</h4></div>
                    <a href="#" class="btn btn-gradient">加入購物車</a>
                </div>
            </div>
        </div>

        <div class="col-md-4">
            <div class="card custom-card">
                <div class="position-relative">
                    <span class="badge bg-primary position-absolute top-0 start-0 m-3 px-3 py-2 shadow-sm">CX-11</span>
                    <a href="product.html?id=cx-11" class="card-img-link"><img src="images/cx11.jpg" class="card-img-top" alt="帝王威能改造組"></a>
                </div>
                <div class="card-body text-center p-4">
                    <h5 class="product-title">BEYBLADE X CX-11 帝王威能改造組</h5>
                    <p class="text-secondary small">新品「帝王威能」以全套重量級零件構成並搭配可切換性能軸心</p>
                    <div class="mb-3"><h4 class="price-tag">$995</h4></div>
                    <a href="#" class="btn btn-gradient">加入購物車</a>
                </div>
            </div>
        </div>

        <div class="col-md-4">
            <div class="card custom-card">
                <div class="position-relative">
                    <span class="badge bg-warning text-dark position-absolute top-0 start-0 m-3 px-3 py-2 shadow-sm">UX-15</span>
                    <a href="product.html?id=ux-15" class="card-img-link"><img src="images/ux15.jpg" class="card-img-top" alt="鮫鯊狂鱗改造組"></a>
                </div>
                <div class="card-body text-center p-4">
                    <h5 class="product-title">BEYBLADE X UX-15 鮫鯊狂鱗改造組</h5>
                    <p class="text-secondary small">集結 UX / BX / CX 三大系列的攻擊型代表</p>
                    <div class="mb-3"><h4 class="price-tag">$795</h4></div>
                    <a href="#" class="btn btn-gradient">加入購物車</a>
                </div>
            </div>
        </div>

        <div class="col-md-4">
            <div class="card custom-card">
                <div class="position-relative">
                    <span class="badge bg-info position-absolute top-0 start-0 m-3 px-3 py-2 shadow-sm">BX-46</span>
                    <a href="product.html?id=bx-46" class="card-img-link"><img src="images/bx46.jpg" class="card-img-top" alt="無限衝擊對戰組"></a>
                </div>
                <div class="card-body text-center p-4">
                    <h5 class="product-title">BEYBLADE X BX-46 無限衝擊對戰組</h5>
                    <p class="text-secondary small">搭載賽場常用的 960R軸 與  770T軸，火力全開</p>
                    <div class="mb-3"><h4 class="price-tag">$1,999 <s class="text-muted fs-6">$2,500</s></h4></div>
                    <a href="#" class="btn btn-gradient">加入購物車</a>
                </div>
            </div>
        </div>

        
    </div>
</main>

    <footer class="mt-5 py-5 text-center">
        <h4 class="brand-logo mb-3">BEYHOUSE</h4>
        <p class="text-secondary">專注於高品質戰鬥陀螺與週邊銷售</p>
        <p class="small text-secondary">&copy; 2025 BEYHOUSE Online Store. All Rights Reserved.</p>
    </footer>

    <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
    import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";

    // Firebase 配置 (請使用你自己的配置，此處為範例)
    const firebaseConfig = {
        apiKey: "AIzaSyC7XXQZAX2tg7x9Z4aUUiPAX8Hwzb_Eldc",
        authDomain: "final-works-c7d3b.firebaseapp.com",
        projectId: "final-works-c7d3b",
        storageBucket: "final-works-c7d3b.firebasestorage.app",
        messagingSenderId: "950920997570",
        appId: "1:950920997570:web:71b949403282e57cd2a95b"
    };

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);

    // 監聽登入狀態
    onAuthStateChanged(auth, (user) => {
        const userDisplay = document.getElementById('user-display');
        const btnLogin = document.getElementById('btn-login');
        const btnSignup = document.getElementById('btn-signup');
        const btnLogout = document.getElementById('btn-logout');

        if (user) {
            // 已登入
            userDisplay.style.display = 'inline-block';
            // 優先顯示 displayName，沒有則抓 Email 前綴
            userDisplay.innerHTML = `<i class="fa-solid fa-user-check me-2"></i> ${user.displayName || user.email.split('@')[0]}`;
            
            btnLogin.style.display = 'none';
            btnSignup.style.display = 'none';
            btnLogout.style.display = 'inline-block';
        } else {
            // 未登入
            userDisplay.style.display = 'none';
            btnLogin.style.display = 'inline-block';
            btnSignup.style.display = 'inline-block';
            btnLogout.style.display = 'none';
        }
    });

    // 登出按鈕邏輯
    document.getElementById('btn-logout').addEventListener('click', () => {
        if (confirm("確定要登出 BEYHOUSE 嗎？")) {
            signOut(auth).then(() => {
                window.location.reload(); // 重新整理頁面
            });
        }
    });

    // 購物車按鈕攔截 (防止未登入購買)
    document.querySelectorAll('.btn-gradient').forEach(btn => {
        // 排除掉「進入賣場」那個 Hero 按鈕
        if (btn.innerText.includes("加入購物車")) {
            btn.addEventListener('click', (e) => {
                e.preventDefault();
                if (!auth.currentUser) {
                    alert("請先登入會員，才能將帥氣的陀螺加入購物車喔！");
                    window.location.href = "login.html";
                } else {
                    // 這裡以後可以串接真正的購物車 Firebase 資料庫
                    const productName = btn.closest('.card-body').querySelector('.product-title').innerText;
                    alert(`【${productName}】已成功放入您的發射盒(購物車)！`);
                }
            });
        }
    });
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>